<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…«å­—å‘½ç†é¤¨ - æ˜Ÿç©ºå åœ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            background: linear-gradient(to bottom, #0a0e27 0%, #1a1a3e 50%, #2d1b4e 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* æµæ˜Ÿæ•ˆæœ */
        .shooting-star {
            position: fixed;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
            animation: shoot 3s linear infinite;
            opacity: 0;
        }

        @keyframes shoot {
            0% {
                transform: translateX(0) translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateX(-300px) translateY(300px);
                opacity: 0;
            }
        }

        /* ä¸»å®¹å™¨ */
        .container {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* é ­éƒ¨ */
        header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-size: 3em;
            color: #fff;
            text-shadow: 0 0 20px rgba(138, 43, 226, 0.8),
                         0 0 40px rgba(138, 43, 226, 0.5);
            margin-bottom: 10px;
            letter-spacing: 5px;
        }

        .subtitle {
            color: #b8b8d4;
            font-size: 1.2em;
            letter-spacing: 3px;
        }

        /* å¡ç‰‡å®¹å™¨ */
        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 30px;
        }

        label {
            display: block;
            color: #e0e0ff;
            font-size: 1.1em;
            margin-bottom: 10px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        select option {
            background: #fff;
            color: #000;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #8a2be2;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        /* æ™‚é–“é¸æ“‡å™¨ç¶²æ ¼ */
        .time-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        /* æŒ‰éˆ• */
        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 2px;
            margin-top: 20px;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(-1px);
        }

        /* çµæœé¡¯ç¤ºå€åŸŸ */
        .result-section {
            margin-top: 40px;
            padding: 30px;
            background: rgba(138, 43, 226, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 15px;
            display: none;
        }

        .result-section.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .bazi-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .pillar {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .pillar-title {
            color: #ffd700;
            font-size: 0.9em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .pillar-char {
            font-size: 2em;
            color: #fff;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .element {
            color: #b8b8d4;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .interpretation {
            color: #e0e0ff;
            line-height: 1.8;
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .interpretation h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .interpretation p {
            margin-bottom: 15px;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .card {
                padding: 25px;
            }

            .bazi-display {
                grid-template-columns: repeat(2, 1fr);
            }

            .time-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* è¿”å›é¦–é æŒ‰éˆ• */
        .home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
            z-index: 1000;
            width: auto;
            margin: 0;
            display: inline-block;
            font-size: 1em;
        }

        .home-button:hover {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
            transform: translateY(-2px);
        }
    </style>
<link rel="stylesheet" href="../mobile-ui.css">
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars" id="stars"></div>
    
    <!-- è¿”å›é¦–é æŒ‰éˆ• -->
    <a href="../index.html" class="home-button">ğŸ  é¦–é </a>

    <div class="container">
        <header>
            <h1>âœ¨ å…«å­—å‘½ç†é¤¨ âœ¨</h1>
            <p class="subtitle">æ¢ç´¢å‘½é‹çš„å¥§ç§˜</p>
        </header>

        <div class="card">
            <form id="baziForm">
                <div class="form-group">
                    <label for="name">æ‚¨çš„å§“å</label>
                    <input type="text" id="name" name="name" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å" required>
                </div>

                <div class="form-group">
                    <label for="gender">æ€§åˆ¥</label>
                    <select id="gender" name="gender" required>
                        <option value="">è«‹é¸æ“‡</option>
                        <option value="male">ç”·</option>
                        <option value="female">å¥³</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="birthdate">å‡ºç”Ÿæ—¥æœŸ</label>
                    <input type="date" id="birthdate" name="birthdate" required>
                </div>

                <div class="form-group">
                    <label>å‡ºç”Ÿæ™‚é–“</label>
                    <div class="time-grid">
                        <select id="hour" name="hour" required>
                            <option value="">æ™‚</option>
                        </select>
                        <select id="minute" name="minute" required>
                            <option value="">åˆ†</option>
                        </select>
                        <select id="second" name="second">
                            <option value="0">ç§’</option>
                        </select>
                    </div>
                </div>

                <button type="submit">ğŸ”® é–‹å§‹ç®—å‘½</button>
            </form>

            <div class="result-section" id="resultSection">
                <h2 style="color: #ffd700; text-align: center; margin-bottom: 30px;">æ‚¨çš„å…«å­—å‘½ç›¤</h2>
                
                <div class="bazi-display" id="baziDisplay">
                    <!-- å…«å­—å››æŸ±å°‡å‹•æ…‹ç”Ÿæˆ -->
                </div>

                <div class="interpretation" id="interpretation">
                    <!-- è§£è®€å…§å®¹å°‡å‹•æ…‹ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæ˜Ÿç©º
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const numberOfStars = 200;

            for (let i = 0; i < numberOfStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }

            // å‰µå»ºæµæ˜Ÿ
            for (let i = 0; i < 3; i++) {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'shooting-star';
                shootingStar.style.left = Math.random() * 100 + '%';
                shootingStar.style.top = Math.random() * 50 + '%';
                shootingStar.style.animationDelay = Math.random() * 5 + 's';
                starsContainer.appendChild(shootingStar);
            }
        }

        // åˆå§‹åŒ–æ™‚é–“é¸æ“‡å™¨
        function initTimeSelectors() {
            const hourSelect = document.getElementById('hour');
            const minuteSelect = document.getElementById('minute');
            const secondSelect = document.getElementById('second');

            for (let i = 0; i < 24; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i.toString().padStart(2, '0');
                hourSelect.appendChild(option);
            }

            for (let i = 0; i < 60; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i.toString().padStart(2, '0');
                minuteSelect.appendChild(option);
            }

            for (let i = 0; i < 60; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i.toString().padStart(2, '0');
                secondSelect.appendChild(option);
            }
        }

        // å¤©å¹²åœ°æ”¯
        const heavenlyStems = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
        const earthlyBranches = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];
        const elements = ['æœ¨', 'æœ¨', 'ç«', 'ç«', 'åœŸ', 'åœŸ', 'é‡‘', 'é‡‘', 'æ°´', 'æ°´'];
        const branchElements = ['æ°´', 'åœŸ', 'æœ¨', 'æœ¨', 'åœŸ', 'ç«', 'ç«', 'åœŸ', 'é‡‘', 'é‡‘', 'åœŸ', 'æ°´'];
        
        // æ™‚è¾°å°æ‡‰è¡¨ï¼ˆ23-1é»ç‚ºå­æ™‚ï¼‰
        const hourBranches = ['å­', 'ä¸‘', 'ä¸‘', 'å¯…', 'å¯…', 'å¯', 'å¯', 'è¾°', 'è¾°', 'å·³', 'å·³', 'åˆ', 
                             'åˆ', 'æœª', 'æœª', 'ç”³', 'ç”³', 'é…‰', 'é…‰', 'æˆŒ', 'æˆŒ', 'äº¥', 'äº¥', 'å­'];

        // è¨ˆç®—å¾åŸºæº–æ—¥æœŸåˆ°ç›®æ¨™æ—¥æœŸçš„å¤©æ•¸
        function getDaysSinceEpoch(date) {
            const baseDate = new Date(1900, 0, 31); // 1900å¹´1æœˆ31æ—¥ç‚ºåºšå­æ—¥
            const diff = date - baseDate;
            return Math.floor(diff / (1000 * 60 * 60 * 24));
        }

        // è¨ˆç®—å…«å­—
        function calculateBazi(birthDate) {
            const year = birthDate.getFullYear();
            const month = birthDate.getMonth() + 1;
            const day = birthDate.getDate();
            const hour = birthDate.getHours();

            // å¹´æŸ±è¨ˆç®—ï¼ˆä»¥ç«‹æ˜¥ç‚ºç•Œï¼‰
            let yearOffset = year - 4; // ç”²å­å¹´é–‹å§‹æ–¼å…¬å…ƒ4å¹´
            const yearStemIndex = yearOffset % 10;
            const yearBranchIndex = yearOffset % 12;
            const yearStem = heavenlyStems[yearStemIndex];
            const yearBranch = earthlyBranches[yearBranchIndex];
            
            // æœˆæŸ±è¨ˆç®—ï¼ˆæ ¹æ“šå¹´å¹²æ¨ç®—æœˆå¹²ï¼‰
            // æœˆæ”¯å›ºå®šï¼šå¯…æœˆ(ç«‹æ˜¥-é©šèŸ„)ã€å¯æœˆ(é©šèŸ„-æ¸…æ˜)ç­‰
            // ç°¡åŒ–è™•ç†ï¼š1æœˆ=å¯…ï¼Œ2æœˆ=å¯...12æœˆ=ä¸‘
            let monthBranchIndex = (month + 1) % 12; // 1æœˆå°æ‡‰å¯…(2)
            if (monthBranchIndex === 0) monthBranchIndex = 1; // 12æœˆå°æ‡‰ä¸‘(1)
            
            // æœˆå¹²æ ¹æ“šå¹´å¹²æ¨ç®—ï¼ˆäº”è™éæœˆå£è¨£ï¼‰
            // ç”²å·±ä¹‹å¹´ä¸™ä½œé¦–ï¼Œä¹™åºšä¹‹å¹´æˆŠç‚ºé ­
            // ä¸™è¾›å¿…å®šå°‹åºšèµ·ï¼Œä¸å£¬å£¬ä½é †è¡Œæµ
            // è‹¥å•æˆŠç™¸ä½•æ–¹ç™¼ï¼Œç”²å¯…ä¹‹ä¸Šå¥½è¿½æ±‚
            const monthStemStart = [2, 4, 6, 8, 0]; // ä¸™ã€æˆŠã€åºšã€å£¬ã€ç”²
            const yearStemMod = yearStemIndex % 5;
            const monthStemIndex = (monthStemStart[yearStemMod] + month - 1) % 10;
            
            const monthStem = heavenlyStems[monthStemIndex];
            const monthBranch = earthlyBranches[monthBranchIndex];
            
            // æ—¥æŸ±è¨ˆç®—ï¼ˆä½¿ç”¨è¬å¹´æ›†æ¨ç®—ï¼‰
            const daysSinceEpoch = getDaysSinceEpoch(birthDate);
            const dayStemIndex = (daysSinceEpoch + 6) % 10; // åŸºæº–æ—¥1900/1/31æ˜¯åºš(6)å­æ—¥
            const dayBranchIndex = (daysSinceEpoch + 0) % 12; // åŸºæº–æ—¥æ˜¯å­(0)
            const dayStem = heavenlyStems[dayStemIndex];
            const dayBranch = earthlyBranches[dayBranchIndex];
            
            // æ™‚æŸ±è¨ˆç®—
            const hourBranchIndex = Math.floor((hour + 1) % 24 / 2); // 23-1é»ç‚ºå­æ™‚(0)
            const hourBranch = earthlyBranches[hourBranchIndex];
            
            // æ™‚å¹²æ ¹æ“šæ—¥å¹²æ¨ç®—ï¼ˆäº”é¼ éæ™‚å£è¨£ï¼‰
            // ç”²å·±é‚„åŠ ç”²ï¼Œä¹™åºšä¸™ä½œåˆ
            // ä¸™è¾›å¾æˆŠèµ·ï¼Œä¸å£¬åºšå­å±…
            // æˆŠç™¸ä½•æ–¹ç™¼ï¼Œå£¬å­æ˜¯çœŸé€”
            const hourStemStart = [0, 2, 4, 6, 8]; // ç”²ã€ä¸™ã€æˆŠã€åºšã€å£¬
            const dayStemMod = dayStemIndex % 5;
            const hourStemIndex = (hourStemStart[dayStemMod] + hourBranchIndex) % 10;
            const hourStem = heavenlyStems[hourStemIndex];

            return {
                year: { stem: yearStem, branch: yearBranch },
                month: { stem: monthStem, branch: monthBranch },
                day: { stem: dayStem, branch: dayBranch },
                hour: { stem: hourStem, branch: hourBranch }
            };
        }

        // é¡¯ç¤ºå…«å­—çµæœ
        function displayBazi(bazi, name, gender) {
            const baziDisplay = document.getElementById('baziDisplay');
            const interpretation = document.getElementById('interpretation');
            
            baziDisplay.innerHTML = `
                <div class="pillar">
                    <div class="pillar-title">å¹´æŸ±</div>
                    <div class="pillar-char">${bazi.year.stem}</div>
                    <div class="pillar-char">${bazi.year.branch}</div>
                    <div class="element">${elements[heavenlyStems.indexOf(bazi.year.stem)]}/${branchElements[earthlyBranches.indexOf(bazi.year.branch)]}</div>
                </div>
                <div class="pillar">
                    <div class="pillar-title">æœˆæŸ±</div>
                    <div class="pillar-char">${bazi.month.stem}</div>
                    <div class="pillar-char">${bazi.month.branch}</div>
                    <div class="element">${elements[heavenlyStems.indexOf(bazi.month.stem)]}/${branchElements[earthlyBranches.indexOf(bazi.month.branch)]}</div>
                </div>
                <div class="pillar">
                    <div class="pillar-title">æ—¥æŸ±</div>
                    <div class="pillar-char">${bazi.day.stem}</div>
                    <div class="pillar-char">${bazi.day.branch}</div>
                    <div class="element">${elements[heavenlyStems.indexOf(bazi.day.stem)]}/${branchElements[earthlyBranches.indexOf(bazi.day.branch)]}</div>
                </div>
                <div class="pillar">
                    <div class="pillar-title">æ™‚æŸ±</div>
                    <div class="pillar-char">${bazi.hour.stem}</div>
                    <div class="pillar-char">${bazi.hour.branch}</div>
                    <div class="element">${elements[heavenlyStems.indexOf(bazi.hour.stem)]}/${branchElements[earthlyBranches.indexOf(bazi.hour.branch)]}</div>
                </div>
            `;

            const dayElement = elements[heavenlyStems.indexOf(bazi.day.stem)];
            const genderText = gender === 'male' ? 'å…ˆç”Ÿ' : 'å¥³å£«';

            interpretation.innerHTML = `
                <h3>âœ¨ ${name}${genderText}çš„å‘½ç†è§£æ</h3>
                <p><strong>æ—¥ä¸»äº”è¡Œï¼š</strong>${dayElement}</p>
                <p><strong>æ€§æ ¼ç‰¹è³ªï¼š</strong>${getPersonalityByElement(dayElement)}</p>
                <p><strong>äº‹æ¥­é‹å‹¢ï¼š</strong>${getCareerByElement(dayElement)}</p>
                <p><strong>è²¡é‹åˆ†æï¼š</strong>${getWealthByElement(dayElement)}</p>
                <p><strong>æ„Ÿæƒ…é‹å‹¢ï¼š</strong>${getLoveByElement(dayElement)}</p>
                <p style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.2); color: #ffd700;">
                    â­ å‘½ç†å»ºè­°ï¼šä¿æŒç©æ¥µæ¨‚è§€çš„å¿ƒæ…‹ï¼Œé †æ‡‰è‡ªç„¶è¦å¾‹ï¼Œæ–¹èƒ½è¶¨å‰é¿å‡¶ï¼Œé–‹å‰µç¾å¥½æœªä¾†ã€‚
                </p>
            `;

            document.getElementById('resultSection').classList.add('show');
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }

        // æ ¹æ“šäº”è¡Œç²å–æ€§æ ¼æè¿°
        function getPersonalityByElement(element) {
            const personalities = {
                'æœ¨': 'æ€§æ ¼ä»æ…ˆæ­£ç›´ï¼Œå¯Œæœ‰åŒæƒ…å¿ƒï¼Œå…·æœ‰å‘ä¸Šç™¼å±•çš„ç‰¹æ€§ï¼Œç‚ºäººæ­£ç›´å–„è‰¯ï¼Œå¾…äººå’Œè—¹å¯è¦ªã€‚',
                'ç«': 'æ€§æ ¼ç†±æƒ…ç©æ¥µï¼Œå…·æœ‰ç¦®è²Œä¿®é¤Šï¼Œå–„æ–¼ç¤¾äº¤ï¼Œå¯Œæœ‰é€²å–ç²¾ç¥å’Œé ˜å°æ‰èƒ½ã€‚',
                'åœŸ': 'æ€§æ ¼ç©©é‡è¸å¯¦ï¼Œèª å¯¦å®ˆä¿¡ï¼Œå…·æœ‰åŒ…å®¹å¿ƒï¼Œç‚ºäººå¿ åšè€å¯¦ï¼Œå€¼å¾—ä¿¡è³´ã€‚',
                'é‡‘': 'æ€§æ ¼å‰›æ¯…æœæ–·ï¼Œè¬›ç©¶ç¾©æ°£ï¼Œæœ‰æ­£ç¾©æ„Ÿï¼Œåšäº‹èªçœŸè² è²¬ï¼Œæ„å¿—å …å®šã€‚',
                'æ°´': 'æ€§æ ¼è°æ˜éˆæ´»ï¼Œå¯Œæœ‰æ™ºæ…§ï¼Œå–„æ–¼æ€è€ƒï¼Œé©æ‡‰èƒ½åŠ›å¼·ï¼Œå…·æœ‰å‰µæ–°ç²¾ç¥ã€‚'
            };
            return personalities[element] || 'æ€§æ ¼ç‰¹è³ªå¾…åˆ†æ';
        }

        // æ ¹æ“šäº”è¡Œç²å–äº‹æ¥­æè¿°
        function getCareerByElement(element) {
            const careers = {
                'æœ¨': 'é©åˆå¾äº‹æ•™è‚²ã€æ–‡åŒ–ã€è—è¡“ã€åœ’æ—ã€é†«ç™‚ç­‰è¡Œæ¥­ï¼Œäº‹æ¥­ç™¼å±•ç©©å¥å‘ä¸Šã€‚',
                'ç«': 'é©åˆå¾äº‹å‚³åª’ã€è—è¡“ã€è¡¨æ¼”ã€ç§‘æŠ€ã€ç®¡ç†ç­‰è¡Œæ¥­ï¼Œäº‹æ¥­å®¹æ˜“æœ‰çªç ´æ€§ç™¼å±•ã€‚',
                'åœŸ': 'é©åˆå¾äº‹æˆ¿åœ°ç”¢ã€å»ºç¯‰ã€è¾²æ¥­ã€ä¸­ä»‹ã€é¡§å•ç­‰è¡Œæ¥­ï¼Œäº‹æ¥­æ ¹åŸºç©©å›ºã€‚',
                'é‡‘': 'é©åˆå¾äº‹é‡‘èã€æ³•å¾‹ã€è»è­¦ã€æ©Ÿæ¢°ã€å·¥ç¨‹ç­‰è¡Œæ¥­ï¼Œäº‹æ¥­è¬›æ±‚ç²¾æº–å’Œæ•ˆç‡ã€‚',
                'æ°´': 'é©åˆå¾äº‹è²¿æ˜“ã€ç‰©æµã€æ—…éŠã€æ°´ç”¢ã€ä¿¡æ¯ç­‰è¡Œæ¥­ï¼Œäº‹æ¥­ç™¼å±•éˆæ´»å¤šè®Šã€‚'
            };
            return careers[element] || 'äº‹æ¥­é‹å‹¢å¾…åˆ†æ';
        }

        // æ ¹æ“šäº”è¡Œç²å–è²¡é‹æè¿°
        function getWealthByElement(element) {
            const wealth = {
                'æœ¨': 'è²¡é‹ç©©å¥ï¼Œé©åˆé•·æœŸæŠ•è³‡ï¼Œè²¡å¯Œç©ç´¯å¦‚æ¨¹æœ¨ç”Ÿé•·èˆ¬å¾ªåºæ¼¸é€²ã€‚',
                'ç«': 'è²¡é‹æ—ºç››ï¼Œåè²¡é‹è¼ƒå¥½ï¼Œä½†éœ€æ³¨æ„ç†è²¡è¦åŠƒï¼Œé¿å…å¤§èµ·å¤§è½ã€‚',
                'åœŸ': 'è²¡é‹ç©©å®šï¼Œå–„æ–¼ç©ç´¯è²¡å¯Œï¼Œé©åˆç©©å¥å‹æŠ•è³‡ï¼Œè²¡å¯Œæ ¹åŸºæ·±åšã€‚',
                'é‡‘': 'è²¡é‹ä¸éŒ¯ï¼Œæ­£è²¡ç‚ºä¸»ï¼Œé€šéåŠªåŠ›å·¥ä½œå¯ç²å¾—è±åšå›å ±ã€‚',
                'æ°´': 'è²¡é‹éˆæ´»ï¼Œè²¡è·¯è¼ƒå»£ï¼Œé©åˆå¤šå…ƒåŒ–æŠ•è³‡ï¼ŒæŠŠæ¡æ©Ÿé‡èƒ½æœ‰ä¸éŒ¯æ”¶ç›Šã€‚'
            };
            return wealth[element] || 'è²¡é‹åˆ†æå¾…è§£è®€';
        }

        // æ ¹æ“šäº”è¡Œç²å–æ„Ÿæƒ…æè¿°
        function getLoveByElement(element) {
            const love = {
                'æœ¨': 'æ„Ÿæƒ…çœŸæ‘¯ï¼Œå°æ„›æƒ…å¿ èª å°ˆä¸€ï¼Œé©åˆç´°æ°´é•·æµçš„æ„Ÿæƒ…æ¨¡å¼ã€‚',
                'ç«': 'æ„Ÿæƒ…ç†±çƒˆï¼Œå……æ»¿æ¿€æƒ…ï¼Œä½†éœ€æ³¨æ„æƒ…ç·’ç®¡ç†ï¼Œç¶­æŒæ„Ÿæƒ…çš„ç©©å®šæ€§ã€‚',
                'åœŸ': 'æ„Ÿæƒ…ç©©é‡ï¼Œé‡è¦–å®¶åº­ï¼Œæ˜¯å€¼å¾—ä¾é çš„ä¼´ä¾¶ï¼Œå©šå§»ç”Ÿæ´»å®‰ç©©å¹¸ç¦ã€‚',
                'é‡‘': 'æ„Ÿæƒ…å°ˆä¸€ï¼Œé‡è¦–æ‰¿è«¾ï¼Œå°æ„Ÿæƒ…èªçœŸè² è²¬ï¼Œæ˜¯å¯é çš„çµ‚èº«ä¼´ä¾¶ã€‚',
                'æ°´': 'æ„Ÿæƒ…ç´°è†©ï¼Œå–„è§£äººæ„ï¼Œæºé€šèƒ½åŠ›å¼·ï¼Œèƒ½ç‡Ÿé€ å’Œè«§çš„æ„Ÿæƒ…æ°›åœã€‚'
            };
            return love[element] || 'æ„Ÿæƒ…é‹å‹¢å¾…åˆ†æ';
        }

        // è¡¨å–®æäº¤è™•ç†
        document.getElementById('baziForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const gender = document.getElementById('gender').value;
            const birthdate = document.getElementById('birthdate').value;
            const hour = document.getElementById('hour').value;
            const minute = document.getElementById('minute').value;
            
            const birthDate = new Date(birthdate);
            birthDate.setHours(parseInt(hour), parseInt(minute), 0);
            
            const bazi = calculateBazi(birthDate);
            displayBazi(bazi, name, gender);
        });

        // é é¢åŠ è¼‰æ™‚åˆå§‹åŒ–
        window.addEventListener('load', function() {
            createStars();
            initTimeSelectors();
        });
    </script>
<script src="../mobile-nav.js"></script>
</body>
</html>
