<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ğŸŒŸ æ˜Ÿåº§æ€§æ ¼åˆ†æ | Culaliyaâ€™s Mystic Lab</title>
<style>
  :root{
    --bg1:#080b16; --bg2:#0b0d20; --orb1:#ff3eff; --orb2:#00e0ff;
    --cyan:#00ffff; --pink:#ff3eff; --white:#eaf6ff;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:'Orbitron',system-ui,-apple-system,'PingFang TC','Microsoft JhengHei',sans-serif;
    background:radial-gradient(circle at 50% 20%, var(--bg1) 0%, var(--bg2) 70%, #000 100%);
    color:#0ff; text-align:center; overflow-x:hidden; padding:16px;
  }
  h1{
    margin:50px 0 10px; font-size:2em; color:#ffd9ff;
    text-shadow:0 0 25px var(--pink), 0 0 40px var(--cyan);
    animation:glowPulse 3s infinite alternate;
  }
  @keyframes glowPulse { from{ text-shadow:0 0 15px var(--pink);} to{ text-shadow:0 0 35px var(--cyan),0 0 60px var(--pink);} }

  /* èƒŒæ™¯éœ“è™¹å…‰çƒ */
  .neon-orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:float 12s infinite ease-in-out alternate;z-index:0}
  .orb1{width:420px;height:420px;background:var(--orb1);top:8%;left:8%}
  .orb2{width:520px;height:520px;background:var(--orb2);bottom:8%;right:10%;animation-delay:3s}
  @keyframes float{0%{transform:translateY(0)}100%{transform:translateY(-60px) translateX(30px)}}

  .content{position:relative;z-index:1;max-width:1100px;margin:0 auto}

  /* æ§åˆ¶é¢æ¿ */
  .panel{
    margin:18px auto 10px; padding:16px;
    background:linear-gradient(180deg,rgba(12,18,40,.85),rgba(8,12,25,.85));
    border:1px solid rgba(255,255,255,.12); border-radius:16px;
    box-shadow:0 0 22px rgba(0,255,255,.25);
  }
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;align-items:end}
  .group label{display:block;color:#aee; font-size:.9em; margin:0 0 6px 4px}
  .group input,.group select{
    width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
    background:rgba(10,16,30,.9); color:var(--white); outline:none;
  }
  .btn{
    padding:11px 16px; border-radius:12px; border:1px solid #00f0ff;
    background:linear-gradient(180deg,#11384f,#0b2536); color:#bdf9ff; font-weight:700; cursor:pointer;
    transition:.2s; box-shadow:0 0 18px rgba(0,255,255,.25)
  }
  .btn:hover{transform:translateY(-1px); box-shadow:0 0 28px rgba(0,255,255,.45)}

  /* å¡ç‰‡å€ï¼ˆçµæœï¼‰ */
  .cards{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin:18px 0}
  .card{
    min-height:180px; padding:16px; border-radius:16px;
    background:rgba(255,255,255,0.05); border:2px solid #0ff;
    box-shadow:0 0 18px rgba(0,255,255,.3);
    transition:.35s; animation:glowFlow 4s infinite;
    text-align:left;
  }
  .card:hover{transform:translateY(-8px) scale(1.02); box-shadow:0 0 35px #ff3eff, 0 0 50px #0ff}
  @keyframes glowFlow {0%{border-color:#0ff;box-shadow:0 0 10px #0ff}50%{border-color:#ff3eff;box-shadow:0 0 20px #ff3eff}100%{border-color:#0ff;box-shadow:0 0 10px #0ff}}
  .title{display:flex;align-items:center;gap:8px;font-size:1.1em;color:#fff;margin-bottom:10px}
  .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:linear-gradient(135deg,#00ffff,#ff3eff);color:#000;font-weight:800;font-size:.75em;box-shadow:0 0 8px #0ff}

  .kv{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin:10px 0 4px}
  .kv .chip{border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:6px 10px;color:#cfe}

  /* è¿”å› */
  .back{display:inline-block;margin:10px auto 24px;padding:10px 18px;border:2px solid #0ff;border-radius:20px;
    color:#0ff;text-decoration:none;background:rgba(0,255,255,.12);transition:.2s}
  .back:hover{background:rgba(0,255,255,.28)}
  @media (max-width:900px){ .grid{grid-template-columns:1fr 1fr 1fr} .cards{grid-template-columns:1fr} }
  @media (max-width:640px){ .grid{grid-template-columns:1fr 1fr;gap:10px} .cards{grid-template-columns:1fr} }
</style>
</head>
<body>
  <div class="neon-orb orb1"></div>
  <div class="neon-orb orb2"></div>

  <div class="content">
    <h1>ğŸŒŸ æ˜Ÿåº§æ€§æ ¼åˆ†æ</h1>

    <div class="panel">
      <div class="grid">
        <div class="group">
          <label>ç”Ÿæ—¥ï¼ˆé™½æ›†ï¼‰</label>
          <input type="date" id="birthDate" />
        </div>
        <div class="group">
          <label>å‡ºç”Ÿæ™‚é–“ï¼ˆå¯é¸ï¼Œç”¨æ–¼å‚™è¨»ï¼‰</label>
          <input type="time" id="birthTime" />
        </div>
        <div class="group">
          <button id="btnGo" class="btn">âœ¨ ç”Ÿæˆåˆ†æ</button>
        </div>
      </div>
    </div>

    <div id="result" style="display:none;">
      <div class="kv" id="headline"></div>
      <div class="cards">
        <div class="card">
          <div class="title">ğŸ§­ å¤ªé™½æ˜Ÿåº§ <span id="sunBadge" class="badge">NEW</span></div>
          <div id="sunText">â€”</div>
        </div>
        <div class="card">
          <div class="title">ğŸ’– æƒ…æ„Ÿéœ€æ±‚ï¼ˆå»ºè­°çš„ç›¸è™•ç¯€å¥ï¼‰</div>
          <div id="needsText">â€”</div>
        </div>
        <div class="card">
          <div class="title">ğŸ‘€ ç¬¬ä¸€å°è±¡ï¼ˆä½ çµ¦äººçš„å¤–è§€æ°£å ´ï¼‰</div>
          <div id="firstImpression">â€”</div>
        </div>
      </div>
    </div>

    <a class="back" href="../fortune_lab.html">ğŸ  å›å‘½ç†å¯¦é©—å®¤</a>
  </div>

<script>
/* ---------- å¤ªé™½æ˜Ÿåº§è¨ˆç®—ï¼ˆTropicalï¼‰ ----------
   ä½¿ç”¨å›ºå®šçš„å¸¸ç”¨ç•Œç·šï¼›è‹¥ç”Ÿæ—¥åœ¨é‚Šç•Œæ—¥ï¼Œæ¡ä¸€èˆ¬é€šç”¨å€é–“ï¼ˆä¸å«å¤©æ–‡å¹´è®Šå‹•ï¼‰ã€‚*/
const SUN_RANGES = [
  {name:'ç‰¡ç¾Šåº§',start:'03-21',end:'04-19',emoji:'â™ˆ'},
  {name:'é‡‘ç‰›åº§',start:'04-20',end:'05-20',emoji:'â™‰'},
  {name:'é›™å­åº§',start:'05-21',end:'06-20',emoji:'â™Š'},
  {name:'å·¨èŸ¹åº§',start:'06-21',end:'07-22',emoji:'â™‹'},
  {name:'ç…å­åº§',start:'07-23',end:'08-22',emoji:'â™Œ'},
  {name:'è™•å¥³åº§',start:'08-23',end:'09-22',emoji:'â™'},
  {name:'å¤©ç§¤åº§',start:'09-23',end:'10-22',emoji:'â™'},
  {name:'å¤©è åº§',start:'10-23',end:'11-21',emoji:'â™'},
  {name:'å°„æ‰‹åº§',start:'11-22',end:'12-21',emoji:'â™'},
  // æ‘©ç¾¯è·¨å¹´ï¼š12/22~12/31 æˆ– 01/01~01/19
  {name:'æ‘©ç¾¯åº§',start:'12-22',end:'12-31',emoji:'â™‘',split2:{start:'01-01',end:'01-19'}},
  {name:'æ°´ç“¶åº§',start:'01-20',end:'02-18',emoji:'â™’'},
  {name:'é›™é­šåº§',start:'02-19',end:'03-20',emoji:'â™“'},
];

function inRange(mmdd, a, b){
  return mmdd >= a && mmdd <= b;
}
function getSunSign(dateStr){
  // dateStr = "YYYY-MM-DD"
  const [Y,M,D] = dateStr.split('-').map(v=>parseInt(v,10));
  if (isNaN(Y) || isNaN(M) || isNaN(D)) return null;
  const mmdd = `${String(M).padStart(2,'0')}-${String(D).padStart(2,'0')}`;
  for(const r of SUN_RANGES){
    if (r.split2){
      if (inRange(mmdd, r.start, r.end) || inRange(mmdd, r.split2.start, r.split2.end)) return r;
    } else if (inRange(mmdd, r.start, r.end)) {
      return r;
    }
  }
  return null;
}

/* ---------- æ–‡æ¡ˆåº« ---------- */
const SUN_TRAITS = {
 'ç‰¡ç¾Šåº§':'ä¸»å‹•æœæ±ºã€ç›´çƒæºé€šï¼›è¨å­ç­‰å¾…ï¼Œè¡Œå‹•å°±æ˜¯ä½ çš„èªè¨€ã€‚',
 'é‡‘ç‰›åº§':'å‹™å¯¦ç©©å®šã€æ„Ÿå®˜æ•éŠ³ï¼›è¨å­è¢«å‚¬ä¿ƒï¼Œé‡è¦–è³ªæ„Ÿèˆ‡å®‰å…¨æ„Ÿã€‚',
 'é›™å­åº§':'å¥½å¥‡éˆæ´»ã€ç¤¾äº¤è¿…é€Ÿï¼›éœ€è¦å¤šè®Šèˆ‡æ–°é®®ï¼Œè…¦å…§ always onlineã€‚',
 'å·¨èŸ¹åº§':'æº«æŸ”é¡§å®¶ã€æƒ…æ„Ÿç´°è†©ï¼›å®‰å…¨æ„Ÿä¾†æºæ–¼è¢«é‡è¦–èˆ‡è¢«éœ€è¦ã€‚',
 'ç…å­åº§':'è‡ªä¿¡é™½å…‰ã€ç†±æƒ…å¤§æ–¹ï¼›åœ¨èˆå°ä¸Šæœ€ç™¼å…‰ï¼Œéœ€è¦è¢«è‚¯å®šã€‚',
 'è™•å¥³åº§':'ç´°ç¯€æ§ã€ç§©åºæ§ï¼›å–œæ­¡å¯é æœŸèˆ‡å¯æ”¹å–„çš„ç’°å¢ƒèˆ‡äººäº‹ç‰©ã€‚',
 'å¤©ç§¤åº§':'å¯©ç¾åœ¨ç·šã€æº«å’Œå¹³è¡¡ï¼›å–„æ–¼å”èª¿ï¼Œéœ€è¦å’Œè«§çš„äººéš›æ°›åœã€‚',
 'å¤©è åº§':'æ·±æƒ…å°ˆæ³¨ã€ç›´è¦ºæ•éŠ³ï¼›é‡è¦–ä¿¡ä»»ï¼Œä¸è¼•æ˜“æŠ•å…¥ä½†ä¸€æ—¦æŠ•å…¥å¾ˆæ·±ã€‚',
 'å°„æ‰‹åº§':'è‡ªç”±å†’éšªã€å®è§€æ¨‚è§€ï¼›éœ€è¦ç©ºé–“èˆ‡é æ–¹ï¼Œè¨å­è¢«ç¶ä½ã€‚',
 'æ‘©ç¾¯åº§':'è²¬ä»»æ„Ÿå¼·ã€æŒä¹…è€åŠ›ï¼›ä»¥çµæœå°å‘ä¾†æ„›èˆ‡å·¥ä½œï¼ŒæŠ—å£“ç©©å®šã€‚',
 'æ°´ç“¶åº§':'ç†æ€§ç¨ç«‹ã€å‰è¡›å‰µæ–°ï¼›éœ€è¦è‡ªç”±æ€è€ƒçš„ç©ºé–“èˆ‡å¿—åŒé“åˆçš„å¤¥ä¼´ã€‚',
 'é›™é­šåº§':'æµªæ¼«æ„Ÿæ€§ã€å…±æƒ…åŠ›é«˜ï¼›éœ€è¦è¢«ç†è§£èˆ‡ä¿è­·æƒ³åƒçš„æŸ”è»Ÿã€‚'
};
const EMOTIONAL_NEEDS = {
 'ç‰¡ç¾Šåº§':'è¢«è‚¯å®šèˆ‡å¿«é€Ÿå›æ‡‰ï¼›å…±åŒåƒèˆ‡æŒ‘æˆ°èƒ½åŠ æ·±é€£çµã€‚',
 'é‡‘ç‰›åº§':'æœ‰è¦å¾‹çš„é™ªä¼´èˆ‡å¯¦éš›çš„é«”è²¼ï¼›ä¸è¦é »ç¹è®Šå‹•ã€‚',
 'é›™å­åº§':'æ—¥å¸¸æ–°é®®è©±é¡Œã€ä¸€èµ·å­¸ç¿’/å‡ºéŠï¼›é¿å…å°é–‰èˆ‡é‡è¤‡ã€‚',
 'å·¨èŸ¹åº§':'å®‰å¿ƒçš„ç§äººç©ºé–“èˆ‡ç©©å®šæ‰¿è«¾ï¼›æ…¢æ…¢ä¾†æœ€çœŸã€‚',
 'ç…å­åº§':'è®šè³èˆ‡å…‰å½©æ™‚åˆ»ï¼›ä¸€èµ·æ…¶ç¥å½¼æ­¤çš„æˆå°±ã€‚',
 'è™•å¥³åº§':'ç•Œç·šæ¸…æ¥šã€å‹™å¯¦å”ä½œï¼›æ¬£è³ç´°ç¯€èˆ‡åŠªåŠ›æœ¬èº«ã€‚',
 'å¤©ç§¤åº§':'å…±äº«ç¾æ„Ÿèˆ‡å…¬å¹³å°è©±ï¼›é‡è¦–å„€å¼æ„Ÿèˆ‡äººéš›å¹³è¡¡ã€‚',
 'å¤©è åº§':'æ·±åº¦ä¿¡ä»»èˆ‡æƒ…ç·’èª å¯¦ï¼›é¿å…æ›–æ˜§ä¸æ˜çš„æ‰¿è«¾ã€‚',
 'å°„æ‰‹åº§':'è‡ªç”±èˆ‡å…±åŒç›®æ¨™çš„é æ–¹ï¼›å…è¨±å³èˆˆèˆ‡æ¢ç´¢ã€‚',
 'æ‘©ç¾¯åº§':'é•·æœŸè¨ˆç•«ã€å…·é«”é‡Œç¨‹ç¢‘ï¼›ä»¥è¡Œå‹•è¡¨é”æ„›èˆ‡æ”¯æŒã€‚',
 'æ°´ç“¶åº§':'æ€æƒ³é€£çµèˆ‡å€‹äººç©ºé–“ï¼›å°Šé‡ç¨ç‰¹ç¯€å¥èˆ‡ç¤¾ç¾¤åƒ¹å€¼ã€‚',
 'é›™é­šåº§':'æƒ…æ„Ÿå…±é³´èˆ‡æº«æŸ”æ°›åœï¼›ç”¨æ•…äº‹/éŸ³æ¨‚/å¤¢æƒ³äº¤æµã€‚'
};
const FIRST_IMPRESSION = {
 'ç‰¡ç¾Šåº§':'çˆ½å¿«ç›´æ¥ã€æœ‰é ˜é ­æ°£å ´ï¼›è¡Œå‹•åŠ›ä»¤äººå®‰å¿ƒã€‚',
 'é‡‘ç‰›åº§':'ç©©é‡å¯é ã€å“å‘³å‡ºçœ¾ï¼›çµ¦äººå€¼å¾—æ‰˜ä»˜çš„æ„Ÿè¦ºã€‚',
 'é›™å­åº§':'éˆå·§å¥è«‡ã€ç¯€å¥æ˜å¿«ï¼›ç„¡å½¢æˆç‚ºå ´ä¸Šçš„è¨Šæ¯æ¨ç´ã€‚',
 'å·¨èŸ¹åº§':'æº«æš–é«”è²¼ã€æƒ…ç·’æ”¶ç´è€…ï¼›åƒå®¶ä¸€æ¨£ä»¤äººæ”¾é¬†ã€‚',
 'ç…å­åº§':'äº®çœ¼å¤§æ–¹ã€èˆå°é«”è³ªï¼›é™½å…‰è‡ªä¿¡å¾ˆæœƒå¸¶æ°£æ°›ã€‚',
 'è™•å¥³åº§':'å°ˆæ³¨é«˜æ¨™ã€æ¢ç†åˆ†æ˜ï¼›ç´°ç¯€èˆ‡æ•ˆç‡å°±æ˜¯é­…åŠ›ã€‚',
 'å¤©ç§¤åº§':'å„ªé›…åˆç¾¤ã€å¯©ç¾ä¸€æµï¼›æ—äººé¡˜æ„ä¸»å‹•é è¿‘ã€‚',
 'å¤©è åº§':'ç¥ç§˜å°ˆæ³¨ã€ç›®å…‰éŠ³åˆ©ï¼›æ°£å ´å¼·çƒˆä½†å¾ˆçœŸã€‚',
 'å°„æ‰‹åº§':'æ¨‚è§€ç‘è„«ã€ç›´ä¾†ç›´å¾€ï¼›è®“äººæƒ³åˆ°æ—…ç¨‹èˆ‡é æ–¹ã€‚',
 'æ‘©ç¾¯åº§':'æ²‰è‘—å‹™å¯¦ã€æŠ—å£“å¯é ï¼›é»˜é»˜æ‰›èµ·é€²åº¦çš„äººã€‚',
 'æ°´ç“¶åº§':'æ¸…é†’ç¨ç«‹ã€é»å­æ€ªç¾ï¼›ç¸½èƒ½å¸¶ä¾†éå…¸å‹è§£æ³•ã€‚',
 'é›™é­šåº§':'æŸ”è»Ÿæµªæ¼«ã€å…±æ„ŸåŠ›å¼·ï¼›å®¹æ˜“è®“äººå¸ä¸‹é˜²å‚™ã€‚'
};

/* ---------- äº‹ä»¶ ---------- */
const dEl = document.getElementById('birthDate');
const tEl = document.getElementById('birthTime');
const rEl = document.getElementById('result');
const hEl = document.getElementById('headline');
const sunText = document.getElementById('sunText');
const needsText = document.getElementById('needsText');
const firstImpression = document.getElementById('firstImpression');
const sunBadge = document.getElementById('sunBadge');

document.getElementById('btnGo').addEventListener('click', ()=>{
  const dateStr = dEl.value;
  if(!dateStr){ alert('è«‹å…ˆé¸æ“‡ç”Ÿæ—¥ï¼ˆé™½æ›†ï¼‰'); return; }
  const info = getSunSign(dateStr);
  if(!info){ alert('æ—¥æœŸæ ¼å¼æœ‰èª¤ï¼Œè«‹é‡é¸ã€‚'); return; }

  // æ¨™é¡Œåˆ—
  hEl.innerHTML = `
    <span class="chip">ç”Ÿæ—¥ï¼š${dateStr}${tEl.value ? ' '+tEl.value : ''}</span>
    <span class="chip">å¤ªé™½ï¼š${info.emoji} ${info.name}</span>
  `;

  // å…§å®¹
  sunText.textContent   = SUN_TRAITS[info.name] || 'â€”';
  needsText.textContent = EMOTIONAL_NEEDS[info.name] || 'â€”';
  firstImpression.textContent = FIRST_IMPRESSION[info.name] || 'â€”';

  // NEW æ¨™ç±¤ï¼šç•¶å¤©ç¬¬ä¸€æ¬¡è¨ˆç®—æ™‚çŸ­æš«é¡¯ç¤º
  sunBadge.style.display = 'inline-block';
  setTimeout(()=> sunBadge.style.display = 'none', 1800);

  rEl.style.display = 'block';
  rEl.scrollIntoView({behavior:'smooth', block:'start'});
});

/* é è¨­æ—¥æœŸæ™‚é–“ï¼ˆä½¿ç”¨ä½¿ç”¨è€…æœ¬æ©Ÿæ™‚é–“ï¼‰ */
(function setDefault(){
  const now = new Date();
  const y = now.getFullYear();
  const m = String(now.getMonth()+1).padStart(2,'0');
  const d = String(now.getDate()).padStart(2,'0');
  const hh = String(now.getHours()).padStart(2,'0');
  const mm = String(now.getMinutes()).padStart(2,'0');
  dEl.value = `${y}-${m}-${d}`;
  tEl.value = `${hh}:${mm}`;
})();
</script>
</body>
</html>
