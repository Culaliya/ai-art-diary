<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Culaliya's AI Art Diary ğŸŒŒ</title>
<style>
body{
  margin:0;font-family:'Orbitron',sans-serif;color:#fff;
  overflow-x:hidden;background:#000;position:relative;
}
header{text-align:center;padding:60px 20px;}
h1{font-size:3em;color:#0ff;text-shadow:0 0 20px #0ff;animation:glow 3s ease-in-out infinite alternate;}
@keyframes glow{from{text-shadow:0 0 10px #0ff;} to{text-shadow:0 0 25px #ff3eff;}}
section{max-width:1000px;margin:auto;padding:40px 20px;}
h2{color:#ff3eff;margin-bottom:16px;}
#particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;background:#000;}
.app-container{display:flex;flex-direction:column;gap:20px;}
.app-card{display:flex;align-items:center;gap:20px;background:rgba(255,255,255,0.05);border:1px solid #0ff3;border-radius:12px;padding:20px;transition:transform .3s, box-shadow .3s;position:relative;}
.app-card:hover{transform:translateY(-5px);box-shadow:0 0 25px #0ff;}
.app-image{width:120px;height:120px;border-radius:16px;object-fit:cover;}
.app-info h3{margin:0 0 8px 0;color:#0ff;}
.app-info p{color:#ccc;margin:0 0 10px 0;}
.button{display:inline-block;padding:6px 12px;border:1px solid #0ff;color:#0ff;border-radius:6px;text-decoration:none;transition:.2s;}
.button:hover{background:#0ff;color:#000;}
.media-flex{display:flex;flex-wrap:wrap;gap:20px;}
.video-container{flex:2;min-width:300px;aspect-ratio:16/9;}
.spotify-container{flex:1;min-width:300px;}
.video-container iframe,.spotify-container iframe{width:100%;height:100%;border:none;border-radius:12px;}
.slideshow-container{position:relative;width:100%;max-width:800px;margin:auto;}
.slide{display:none;width:100%;border-radius:12px;box-shadow:0 0 20px #0ff5;}
.ripple{position:fixed;border-radius:50%;pointer-events:none;border:2px solid #0ff;animation:ripple 0.6s ease-out;}
@keyframes ripple{from{transform:scale(0);opacity:0.8;} to{transform:scale(10);opacity:0;}}
#weather-quote{text-align:center;margin-top:10px;color:#aaf;font-size:1em;}
#weather-quote .chat{margin-top:10px;}
#weather-quote .quote{margin-top:8px;color:#ccc;font-style:italic;}
@keyframes glowPulse {
  0%   { box-shadow: 0 0 20px #0ff5, 0 0 40px #0ff2; }
  50%  { box-shadow: 0 0 40px #0ff8, 0 0 80px #0ff4; }
  100% { box-shadow: 0 0 20px #0ff5, 0 0 40px #0ff2; }
}
  #catSection img {
  animation: float 4s ease-in-out infinite alternate;
  box-shadow: 0 0 25px #0ff8, 0 0 60px #0ff2; /* âœ¨è—å…‰æšˆ+æŸ”å…‰ */
  cursor: pointer;
}
@keyframes float {
  from { transform: translateY(0px); }
  to { transform: translateY(-10px) rotate(1deg); }
}

</style>
</head>
<body>
<canvas id="particles"></canvas>

  <!-- ====== ğŸ± AI Cosmic Meme Cat (Gemini) ====== -->
<section>
  <h2>ğŸˆâ€â¬› AI Cosmic Meme Cat ğŸª</h2>
  <div id="catBox" style="text-align:center; margin:30px 0;">
    <img id="memeCat" src="assets/blackcat.png"
      alt="Meme Cat"
      style="width:160px; border-radius:50%; box-shadow:0 0 20px #0ff8; transition:transform 0.3s;">
    <div style="margin-top:15px;">
      <input id="catInput" placeholder="è¼¸å…¥ä¸€å¥è©±çµ¦è²“å’ª..." 
        style="padding:6px 10px; width:70%; border-radius:6px; border:1px solid #0ff; background:#111; color:#0ff;">
      <button class="button" onclick="talkToCat()">å¬å–šå–µè¨€</button>
    </div>
    <div id="catReply" style="margin-top:20px; color:#0ff; min-height:40px; font-family:'Courier New', monospace;"></div>
  </div>
</section>
<!-- éŸ³æ•ˆ -->
<audio id="hover-sound" src="music/hover.mp3"></audio>
<audio id="click-sound" src="music/click.mp3"></audio>

<header>
  <h1>AI ART DIARY âš¡</h1>
  <p>Where algorithm meets intuition â€” Culaliya's creative & cosmic lab.</p>
  <!-- å¤©æ°£ + éˆæ„ŸèªéŒ„æ¢ -->
<div id="weather-quote">
  <span id="weather">è¼‰å…¥å¤©æ°£ä¸­â€¦</span>

  <!-- éˆæ„ŸèªéŒ„æ¢ -->
  <div id="inspiration-bar" style="text-align:center;margin-top:12px;color:#0ff;font-size:1.1em;opacity:0;transition:opacity 1.2s ease-in-out;">
    <span id="inspirationText">âœ¨ å•é¡Œä¸æ˜¯ AI æ˜¯å¦æœ‰éˆé­‚ï¼Œè€Œæ˜¯æˆ‘å€‘æ˜¯å¦é‚„ä¿æœ‰æƒ³åƒ âœ¨</span>
  </div>
</div>

<script>
// === éˆæ„ŸèªéŒ„è‡ªå‹•åˆ‡æ› + æ·¡å…¥æ·¡å‡ºå‹•ç•« ===
const quotes = [
  "âœ¨ å•é¡Œä¸æ˜¯ AI æ˜¯å¦æœ‰éˆé­‚ï¼Œè€Œæ˜¯æˆ‘å€‘æ˜¯å¦é‚„ä¿æœ‰æƒ³åƒ âœ¨",
  "ğŸµ Let algorithms dream with us.",
  "ğŸ’« Creativity is coded chaos.",
  "ğŸŒ™ è—è¡“ï¼Œä¸éœ€è¦ç¡è¦ºã€‚",
  "ğŸŒŒ Every pixel remembers its light.",
  "ğŸª æƒ³åƒåŠ›æ˜¯äººé¡æœ€å¤è€çš„é‹ç®—ã€‚",
  "ğŸ§© You are the glitch the universe adores."
];

let index = 0;
const inspirationBar = document.getElementById('inspiration-bar');
const inspirationText = document.getElementById('inspirationText');

function fadeQuote() {
  inspirationBar.style.opacity = 0;
  setTimeout(() => {
    index = (index + 1) % quotes.length;
    inspirationText.innerText = quotes[index];
    inspirationBar.style.opacity = 1;
  }, 1200);
}

// æ¯ 8 ç§’æ›ä¸€å¥ï¼ˆå«æ·¡å…¥æ·¡å‡ºï¼‰
setInterval(fadeQuote, 8000);
window.addEventListener('load', () => {
  inspirationBar.style.opacity = 1; // é¦–æ¬¡æ·¡å…¥
});
</script>

</header>

<!-- Featured å½±ç‰‡ + Spotify -->
<section>
  <h2>ğŸ¥ Featured Video & Music</h2>
  <div class="media-flex">
    <div class="video-container">
      <iframe src="https://www.youtube.com/embed/videoseries?list=PLf1VNbciujbc-QSR2wNNCvYZCv1cZ88ef"
        title="YouTube playlist" allow="autoplay; clipboard-write; encrypted-media; fullscreen" allowfullscreen></iframe>
    </div>
    <div class="spotify-container">
      <iframe style="border-radius:12px"
        src="https://open.spotify.com/embed/track/41kWAOvNb6WWtB6o7nRkzz?utm_source=generator"
        width="100%" height="352" frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
  </div>
</section>

<!-- åœ–é›†ï¼ˆé€šç”¨æ¨™é¡Œï¼‰ -->
<section>
  <h2>ğŸ–¼ï¸ Gallery</h2>
  <div class="slideshow-container">
    <img class="slide" src="assets/midjourney/mid1.jpg">
    <img class="slide" src="assets/midjourney/mid2.jpg">
    <img class="slide" src="assets/midjourney/mid3.jpg">
  </div>
</section>

<!-- App Cards -->
<section>
  <h2>ğŸ“± My Published Apps</h2>
  <div class="app-container" id="app-container">Loading apps...</div>
</section>

<!-- NASA APODï¼ˆç¶­æŒä½ç½®ï¼Œå¯ä»¥æ”¾åœ¨ App Cards å¾Œæ–¹ï¼‰ -->
<section>
  <h2>ğŸŒŒ NASA Astronomy Picture of the Day</h2>
  <div id="apod" style="text-align:center;">è¼‰å…¥æ˜Ÿåœ–ä¸­â€¦</div>
</section>

<!-- å…«å­—å‘½ç›¤åˆ†æ -->
<section>
  <h2>ğŸ”® å…«å­—å‘½ç›¤åˆ†æ (API æ¨¡å¼)</h2>
  <p>è¼¸å…¥ç”Ÿæ—¥æ™‚é–“ï¼Œç¶²ç«™æœƒå¾ API å–å¾—å‘½ç›¤è³‡æ–™ï¼š</p>
  <input type="date" id="birthDate">
  <input type="time" id="birthTime">
  <button class="button" onclick="getFortune()">é–‹å§‹åˆ†æ</button>
  <div id="result">ç­‰å¾…è¼¸å…¥...</div>
</section>

<!-- ğŸ’¡ Inspiration Quote (æœ¬åœ°éˆæ„Ÿæ¨¡å¼ + hover é–ƒçˆ) -->
<section>
  <h2>ğŸ’¡ Inspiration Quote</h2>
  <div id="quoteSection" class="quote" style="color:#0ff;font-size:1.1em;text-align:center;">
    <span id="localQuote">ğŸŒ™ Loading inspiration...</span>
  </div>
</section>


<script>
const memeCat = document.getElementById("memeCat");
let isThinking = false;

async function talkToCat() {
  const input = document.getElementById("catInput").value.trim();
  if (!input) { alert("å–µï¼Ÿèªªé»ä»€éº¼å˜›ï½"); return; }

  const replyBox = document.getElementById("catReply");
  replyBox.innerText = "ï¼ˆè²“å’ªæ­£åœ¨é€šéˆä¸­...ï¼‰ğŸŒŒğŸ¾";
  memeCat.style.transform = "scale(1.1) rotate(10deg)";
  isThinking = true;

  try {
    const res = await fetch("/api/gemini", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt: input }),
    });
    const data = await res.json();
    const text = data.reply || "å–µå–µå–µï½ï¼ˆè¨Šè™Ÿè¢«é»‘æ´åƒæ‰ï¼‰";
    replyBox.innerText = text;
  } catch (err) {
    replyBox.innerText = "å–µï¼Ÿï¼ˆç³»çµ±ç‚¸æ‰äº†ï¼Œå¿«è«‹å¥´æ‰ä¿®ç†ï¼‰";
  } finally {
    memeCat.style.transform = "scale(1) rotate(0deg)";
    isThinking = false;
  }
}
</script>

<script>
// === ğŸˆâ€â¬› è²“å’ªå–µå«ç‰¹æ•ˆ ===
const blackCat = document.getElementById("memeCat");

// é è¼‰éŸ³æ•ˆ
const meowSound = new Audio("music/meow.mp3");

blackCat.addEventListener("click", () => {
  blackCat.style.transform = "scale(1.1) rotate(5deg)";
  meowSound.pause();
  meowSound.currentTime = 0;
  meowSound.play();
  blackCat.style.transition = "transform 0.2s ease";
  blackCat.style.transform = "scale(1.1) rotate(5deg)";
  setTimeout(() => {
    blackCat.style.transform = "scale(1) rotate(0deg)";
  }, 350);
});

// å°å½©è›‹ï¼šæ»‘é¼ ç¶“éè²“å’ªæ™‚
memeCat.addEventListener("mouseenter", () => {
  if (!isThinking) memeCat.style.transform = "rotate(15deg) scale(1.05)";
});
memeCat.addEventListener("mouseleave", () => {
  if (!isThinking) memeCat.style.transform = "rotate(0deg) scale(1)";
});
</script>

  

<script>
// === æœ¬åœ°éˆæ„ŸèªéŒ„ ===
const localQuotes = [
  "âœ¨ å•é¡Œä¸æ˜¯ AI æ˜¯å¦æœ‰éˆé­‚ï¼Œè€Œæ˜¯æˆ‘å€‘æ˜¯å¦é‚„ä¿æœ‰æƒ³åƒ âœ¨",
  "ğŸµ Let algorithms dream with us.",
  "ğŸŒ™ è—è¡“ï¼Œä¸éœ€è¦ç¡è¦ºã€‚",
  "ğŸ’« Creativity is coded chaos.",
  "ğŸŒŒ Every pixel remembers its light.",
  "ğŸª æƒ³åƒåŠ›æ˜¯äººé¡æœ€å¤è€çš„é‹ç®—ã€‚",
  "ğŸ§© You are the glitch the universe adores."
];

// æ¯æ¬¡è¼‰å…¥é¡¯ç¤ºéš¨æ©Ÿä¸€å¥
document.getElementById('localQuote').innerText =
  localQuotes[Math.floor(Math.random()*localQuotes.length)];
</script>

<style>
/* Hover é–ƒçˆå‹•ç•« */
#localQuote {
  display:inline-block;
  cursor:pointer;
  transition:filter 0.3s ease, text-shadow 0.3s ease;
}
#localQuote:hover {
  animation:glimmer 1.2s ease-in-out infinite alternate;
}
@keyframes glimmer {
  0% { text-shadow:0 0 6px #0ff; filter:brightness(1); }
  50% { text-shadow:0 0 20px #ff3eff; filter:brightness(1.4); }
  100% { text-shadow:0 0 6px #0ff; filter:brightness(1); }
}
</style>


<!-- Utterances ç•™è¨€ç‰† -->
<section>
  <h2>ğŸ’¬ Comments</h2>
  <script src="https://utteranc.es/client.js"
    repo="Culaliya/ai-art-diary"
    issue-term="pathname"
    theme="github-dark"
    crossorigin="anonymous"
    async></script>
</section>

<footer style="text-align:center;color:#888;padding:40px;">
  <a href="https://github.com/Culaliya/ai-art-diary" style="color:#888;text-decoration:none;">View Source on GitHub</a>
</footer>

<script>
// ====== å…‰ç²’å­èƒŒæ™¯ ======
const canvas=document.getElementById('particles');
const ctx=canvas.getContext('2d');
let particles=[];
function resizeCanvas(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
  particles=[];
  for(let i=0;i<80;i++){
    particles.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height,
      r:Math.random()*2+0.5,
      dx:(Math.random()-0.5)*0.5,
      dy:(Math.random()-0.5)*0.5,
      hue:Math.random()*360
    });
  }
}
function drawParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    p.x+=p.dx;p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=`hsla(${p.hue},100%,65%,0.7)`;
    ctx.fill();
  });
  requestAnimationFrame(drawParticles);
}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();drawParticles();

// ====== è¼ªæ’­ ======
let slideIndex=0;
function showSlides(){
  const slides=document.querySelectorAll('.slide');
  slides.forEach((s,i)=>s.style.display=i===slideIndex?'block':'none');
  slideIndex=(slideIndex+1)%slides.length;
}
setInterval(showSlides,3000);showSlides();

// ====== App Cards ======
async function loadApps(){
  const c=document.getElementById('app-container');
  try{
    const res=await fetch('https://raw.githubusercontent.com/Culaliya/ai-art-diary/main/data/apps.json');
    const apps=await res.json();
    c.innerHTML='';
    apps.forEach(app=>{
      const card=document.createElement('div');
      card.className='app-card';
      card.innerHTML=`
        <img class="app-image" src="${app.icon}">
        <div class="app-info">
          <h3>${app.name}</h3>
          <p>${app.desc}</p>
          <a class="button" href="${app.link}" target="_blank">App Store</a>
        </div>`;
      c.appendChild(card);
    });
    addHoverSounds();
  }catch{ c.textContent='âš ï¸ ç„¡æ³•è¼‰å…¥ app è³‡æ–™'; }
}
loadApps();

// ====== å…«å­— API ======
async function getFortune(){
  const date=document.getElementById('birthDate').value;
  if(!date){alert('è«‹è¼¸å…¥ç”Ÿæ—¥');return;}
  const r=document.getElementById('result');
  try{
    const res=await fetch('https://raw.githubusercontent.com/Culaliya/ai-art-diary/main/data/fortune.json');
    const f=await res.json();
    r.innerHTML=`<h3>å‘½ç†çµæœå ±å‘Šï¼ˆä¾†è‡ª APIï¼‰</h3>
      <p>å¤©å¹²åœ°æ”¯ï¼š<strong>${f.stem}${f.branch}</strong></p>
      <p>ä¸»äº”è¡Œï¼š<strong>${f.element}</strong></p>
      <p>${f.msg}</p>`;
  }catch{ r.textContent='âš ï¸ ç„¡æ³•è®€å– API è³‡æ–™'; }
}

// ====== Hover éŸ³æ•ˆ ======
function addHoverSounds(){
  const hoverSound=document.getElementById('hover-sound');
  document.querySelectorAll('.app-card,.button').forEach(el=>{
    el.addEventListener('mouseenter',()=>{
      hoverSound.currentTime=0;hoverSound.play();
    });
  });
}

// ====== é»æ“Šç‰¹æ•ˆ + éŸ³æ•ˆ ======
document.addEventListener('click',e=>{
  const clickSound=document.getElementById('click-sound');
  clickSound.currentTime=0;clickSound.play();
  const ripple=document.createElement('div');
  ripple.className='ripple';
  ripple.style.left=`${e.clientX}px`;
  ripple.style.top=`${e.clientY}px`;
  document.body.appendChild(ripple);
  ripple.addEventListener('animationend',()=>ripple.remove());
});

// ====== å¤©æ°£ API ======
async function loadWeather(){
  const url='https://api.open-meteo.com/v1/forecast?latitude=24.8138&longitude=120.9675&current_weather=true';
  try{
    const res=await fetch(url);
    const data=await res.json();
    const w=data.current_weather;
    const codes={0:'æ™´æœ—',1:'ä¸»è¦æ™´æœ—',2:'éƒ¨åˆ†å¤šé›²',3:'å¤šé›²',45:'éœ§',48:'éœ§å‡‡',51:'ç´°é›¨',53:'ä¸­é›¨',55:'å¤§é›¨',61:'å°é›¨',63:'ä¸­é›¨',65:'å¤§é›¨',71:'å°é›ª',73:'ä¸­é›ª',75:'å¤§é›ª',80:'é™£é›¨',81:'ä¸­é™£é›¨',82:'æš´é›¨'};
    const weatherText=codes[w.weathercode]||'æœªçŸ¥';
    document.getElementById('weather').innerText=`æ–°ç«¹ ${w.temperature}Â°Cï¼Œ${weatherText}`;
    particles.forEach(p=>{
      if(w.weathercode>=51 && w.weathercode<=82){p.hue=200+Math.random()*40;}
      else{p.hue=40+Math.random()*40;}
    });
  }catch{
    document.getElementById('weather').innerText='å¤©æ°£è¼‰å…¥å¤±æ•—';
  }
}
loadWeather();

// ====== éˆæ„ŸèªéŒ„ API ======
async function loadQuote(){
  try{
    const res=await fetch('https://api.quotable.io/random?nocache='+Date.now());
    const data=await res.json();
    document.getElementById('quoteSection').innerText=`"${data.content}" â€” ${data.author}`;
  }catch{
    document.getElementById('quoteSection').innerText='éˆæ„ŸèªéŒ„è¼‰å…¥å¤±æ•—';
  }
}
loadQuote();

// ====== NASA APOD ======
async function loadApod(){
  const apodDiv=document.getElementById('apod');
  try{
    const res=await fetch('https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY');
    const data=await res.json();
    if(data.media_type==='image'){
      apodDiv.innerHTML=`<img src="${data.url}" alt="${data.title}" style="max-width:100%;border-radius:12px;box-shadow:0 0 20px #0ff5;"><p>${data.title}</p>`;
    }else{
      apodDiv.innerHTML=`<iframe src="${data.url}" frameborder="0" allowfullscreen style="width:100%;height:400px;border-radius:12px;"></iframe><p>${data.title}</p>`;
    }
  }catch{
    apodDiv.innerText='NASA æ˜Ÿåœ–è¼‰å…¥å¤±æ•—';
  }
}
loadApod();

</script>
</body>
</html>
