<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Culaliyaâ€™s AI Art Diary ğŸŒŒ</title>
<style>
/* ====== å…¨åŸŸæ¨£å¼ ====== */
body{
  margin:0;font-family:'Orbitron',sans-serif;color:#fff;
  overflow-x:hidden;background:#000;position:relative;
}
header{text-align:center;padding:60px 20px;}
h1{font-size:3em;color:#0ff;text-shadow:0 0 20px #0ff;
  animation:glow 3s ease-in-out infinite alternate;}
@keyframes glow{from{text-shadow:0 0 10px #0ff;}
  to{text-shadow:0 0 25px #ff3eff;}}
section{max-width:1000px;margin:auto;padding:40px 20px;}
h2{color:#ff3eff;margin-bottom:16px;}

/* ====== å…‰ç²’å­èƒŒæ™¯ ====== */
#particles{
  position:fixed;top:0;left:0;width:100%;height:100%;
  z-index:-2;background:#000;
}

/* ====== App å¡ç‰‡æ©«å‘æ’åˆ— ====== */
.app-container{display:flex;flex-direction:column;gap:20px;}
.app-card{
  display:flex;align-items:center;gap:20px;
  background:rgba(255,255,255,0.05);
  border:1px solid #0ff3;
  border-radius:12px;padding:20px;
  transition:transform .3s, box-shadow .3s;
  position:relative;
}
.app-card:hover{
  transform:translateY(-5px);box-shadow:0 0 25px #0ff;
}
.app-image{width:120px;height:120px;border-radius:16px;object-fit:cover;}
.app-info h3{margin:0 0 8px 0;color:#0ff;}
.app-info p{color:#ccc;margin:0 0 10px 0;}
.button{
  display:inline-block;padding:6px 12px;border:1px solid #0ff;
  color:#0ff;border-radius:6px;text-decoration:none;transition:.2s;
}
.button:hover{background:#0ff;color:#000;}

/* ====== å½±éŸ³å€å¡Š ====== */
.media-flex{display:flex;flex-wrap:wrap;gap:20px;}
.video-container{flex:2;min-width:300px;aspect-ratio:16/9;}
.spotify-container{flex:1;min-width:300px;}
.video-container iframe,.spotify-container iframe{
  width:100%;height:100%;border:none;border-radius:12px;
}

/* ====== åœ–ç‰‡è¼ªæ’­ ====== */
.slideshow-container{position:relative;width:100%;max-width:800px;margin:auto;}
.slide{display:none;width:100%;border-radius:12px;box-shadow:0 0 20px #0ff5;}

/* ====== é»æ“Šäº®å…‰ç‰¹æ•ˆ ====== */
.ripple{
  position:fixed;border-radius:50%;pointer-events:none;
  border:2px solid #0ff;animation:ripple 0.6s ease-out;
}
@keyframes ripple{
  from{transform:scale(0);opacity:0.8;}
  to{transform:scale(10);opacity:0;}
}

/* ====== å¤©æ°£èˆ‡éˆæ„Ÿå€å¡Š ====== */
#weather-quote{
  text-align:center;
  margin-top:10px;
  color:#aaf;
  font-size:1em;
}
#weather-quote .quote{
  margin-top:6px;
  color:#ccc;
  font-style:italic;
}
</style>
</head>
<body>
<canvas id="particles"></canvas>

<!-- éŸ³æ•ˆ -->
<audio id="hover-sound" src="music/hover.mp3"></audio>
<audio id="click-sound" src="music/click.mp3"></audio>

<header>
  <h1>AI ART DIARY âš¡</h1>
  <p>Where algorithm meets intuition â€” Culaliyaâ€™s creative & cosmic lab.</p>
  <div id="weather-quote">
    <span id="weather">è¼‰å…¥å¤©æ°£ä¸­â€¦</span>
    <div class="quote" id="quote">è¼‰å…¥éˆæ„Ÿä¸­â€¦</div>
  </div>
</header>

<!-- Featured å½±ç‰‡ + Spotify -->
<section>
  <h2>ğŸ¥ Featured Video & Music</h2>
  <div class="media-flex">
    <div class="video-container">
      <iframe src="https://www.youtube.com/embed/videoseries?list=PLf1VNbciujbc-QSR2wNNCvYZCv1cZ88ef"
        title="YouTube playlist" allow="autoplay; clipboard-write; encrypted-media; fullscreen"
        allowfullscreen></iframe>
    </div>
    <div class="spotify-container">
      <iframe style="border-radius:12px"
        src="https://open.spotify.com/embed/track/41kWAOvNb6WWtB6o7nRkzz?utm_source=generator"
        width="100%" height="352" frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
  </div>
</section>

<!-- åœ–é›†ï¼ˆæ›´é€šç”¨æ¨™é¡Œï¼‰ -->
<section>
  <h2>ğŸ–¼ï¸ Gallery</h2>
  <div class="slideshow-container">
    <img class="slide" src="assets/midjourney/mid1.jpg">
    <img class="slide" src="assets/midjourney/mid2.jpg">
    <img class="slide" src="assets/midjourney/mid3.jpg">
  </div>
</section>

<!-- NASA APOD -->
<section>
  <h2>ğŸŒŒ NASA Astronomy Picture of the Day</h2>
  <div id="apod" style="text-align:center;">è¼‰å…¥æ˜Ÿåœ–ä¸­â€¦</div>
</section>

<!-- App Cards -->
<section>
  <h2>ğŸ“± My Published Apps</h2>
  <div class="app-container" id="app-container">Loading apps...</div>
</section>

<!-- å…«å­—å‘½ç›¤åˆ†æ -->
<section>
  <h2>ğŸ”® å…«å­—å‘½ç›¤åˆ†æ (API æ¨¡å¼)</h2>
  <p>è¼¸å…¥ç”Ÿæ—¥æ™‚é–“ï¼Œç¶²ç«™æœƒå¾ API å–å¾—å‘½ç›¤è³‡æ–™ï¼š</p>
  <input type="date" id="birthDate">
  <input type="time" id="birthTime">
  <button class="button" onclick="getFortune()">é–‹å§‹åˆ†æ</button>
  <div id="result">ç­‰å¾…è¼¸å…¥...</div>
</section>

<!-- Utterances ç•™è¨€ç‰† -->
<section>
  <h2>ğŸ’¬ Comments</h2>
  <!-- Utterances æœƒåœ¨é€™è£¡åµŒå…¥ç•™è¨€ -->
  <script src="https://utteranc.es/client.js"
    repo="Culaliya/ai-art-diary"
    issue-term="pathname"
    theme="github-dark"
    crossorigin="anonymous"
    async>
  </script>
</section>

<footer style="text-align:center;color:#888;padding:40px;">
  <a href="https://github.com/Culaliya/ai-art-diary" style="color:#888;text-decoration:none;">View Source on GitHub</a>
</footer>

<script>
// ====== å…‰ç²’å­èƒŒæ™¯ ======
const canvas=document.getElementById('particles');
const ctx=canvas.getContext('2d');
let particles=[];
function resizeCanvas(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
  particles=[];
  for(let i=0;i<80;i++){
    particles.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height,
      r:Math.random()*2+0.5,
      dx:(Math.random()-0.5)*0.5,
      dy:(Math.random()-0.5)*0.5,
      hue:Math.random()*360
    });
  }
}
function drawParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    p.x+=p.dx;p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=`hsla(${p.hue},100%,65%,0.7)`;
    ctx.fill();
  });
  requestAnimationFrame(drawParticles);
}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();drawParticles();

// ====== è¼ªæ’­ ======
let slideIndex=0;
function showSlides(){
  const slides=document.querySelectorAll('.slide');
  slides.forEach((s,i)=>s.style.display=i===slideIndex?'block':'none');
  slideIndex=(slideIndex+1)%slides.length;
}
setInterval(showSlides,3000);showSlides();

// ====== App Cards ======
async function loadApps(){
  const c=document.getElementById('app-container');
  try{
    const res=await fetch('https://raw.githubusercontent.com/Culaliya/ai-art-diary/main/data/apps.json');
    const apps=await res.json();
    c.innerHTML='';
    apps.forEach(app=>{
      const card=document.createElement('div');
      card.className='app-card';
      card.innerHTML=`
        <img class="app-image" src="${app.icon}">
        <div class="app-info">
          <h3>${app.name}</h3>
          <p>${app.desc}</p>
          <a class="button" href="${app.link}" target="_blank">App Store</a>
        </div>`;
      c.appendChild(card);
    });
    addHoverSounds();
  }catch{ c.textContent='âš ï¸ ç„¡æ³•è¼‰å…¥ app è³‡æ–™'; }
}
loadApps();

// ====== å…«å­— API ======
async function getFortune(){
  const date=document.getElementById('birthDate').value;
  if(!date){alert('è«‹è¼¸å…¥ç”Ÿæ—¥');return;}
  const r=document.getElementById('result');
  try{
    const res=await fetch('https://raw.githubusercontent.com/Culaliya/ai-art-diary/main/data/fortune.json');
    const f=await res.json();
    r.innerHTML=`<h3>å‘½ç†çµæœå ±å‘Šï¼ˆä¾†è‡ª APIï¼‰</h3>
      <p>å¤©å¹²åœ°æ”¯ï¼š<strong>${f.stem}${f.branch}</strong></p>
      <p>ä¸»äº”è¡Œï¼š<strong>${f.element}</strong></p>
      <p>${f.msg}</p>`;
  }catch{ r.textContent='âš ï¸ ç„¡æ³•è®€å– API è³‡æ–™'; }
}

// ====== Hover éŸ³æ•ˆ ======
function addHoverSounds(){
  const hoverSound=document.getElementById('hover-sound');
  document.querySelectorAll('.app-card,.button').forEach(el=>{
    el.addEventListener('mouseenter',()=>{
      hoverSound.currentTime=0;hoverSound.play();
    });
  });
}

// ====== é»æ“Šç‰¹æ•ˆ + éŸ³æ•ˆ ======
document.addEventListener('click',e=>{
  const clickSound=document.getElementById('click-sound');
  clickSound.currentTime=0;clickSound.play();
  const ripple=document.createElement('div');
  ripple.className='ripple';
  ripple.style.left=`${e.clientX}px`;
  ripple.style.top=`${e.clientY}px`;
  document.body.appendChild(ripple);
  ripple.addEventListener('animationend',()=>ripple.remove());
});

// ====== å¤©æ°£ API ======
async function loadWeather(){
  // æ–°ç«¹å¸‚ç¶“ç·¯åº¦ï¼šç·¯åº¦ 24.8138, ç¶“åº¦ 120.9675
  const url='https://api.open-meteo.com/v1/forecast?latitude=24.8138&longitude=120.9675&current_weather=true';
  try{
    const res=await fetch(url);
    const data=await res.json();
    const w=data.current_weather;
    // ç°¡æ˜“å¤©æ°£ä»£ç¢¼æè¿°
    const codes={
      0:'æ™´æœ—',1:'ä¸»è¦æ™´æœ—',2:'éƒ¨åˆ†å¤šé›²',3:'å¤šé›²',
      45:'éœ§',48:'éœ§å‡‡',
      51:'ç´°é›¨',53:'ä¸­é›¨',55:'å¤§é›¨',
      61:'å°é›¨',63:'ä¸­é›¨',65:'å¤§é›¨',
      71:'å°é›ª',73:'ä¸­é›ª',75:'å¤§é›ª',
      80:'é™£é›¨',81:'ä¸­é™£é›¨',82:'æš´é›¨'
    };
    const weatherText=codes[w.weathercode]||'æœªçŸ¥';
    document.getElementById('weather').innerText=`æ–°ç«¹ ${w.temperature}Â°Cï¼Œ${weatherText}`;
    // æ ¹æ“šå¤©æ°£ç°¡å–®æ”¹è®Šç²’å­é¡è‰²ï¼ˆä¾‹å¦‚é›¨å¤©åè—ã€æ™´å¤©åé»ƒï¼‰
    particles.forEach(p=>{
      if(w.weathercode>=51 && w.weathercode<=82){
        p.hue=200+Math.random()*40; // é›¨/é›ª â†’ è—ç´«è‰²ç³»
      }else{
        p.hue=40+Math.random()*40; // æ™´å¤© â†’ é‡‘é»ƒæ©™è‰²ç³»
      }
    });
  }catch{
    document.getElementById('weather').innerText='å¤©æ°£è¼‰å…¥å¤±æ•—';
  }
}
loadWeather();

// ====== éˆæ„ŸèªéŒ„ API ======
async function loadQuote(){
  try{
    const res=await fetch('https://api.quotable.io/random');
    const data=await res.json();
    document.getElementById('quote').innerText=`â€œ${data.content}â€ â€” ${data.author}`;
  }catch{
    document.getElementById('quote').innerText='éˆæ„ŸèªéŒ„è¼‰å…¥å¤±æ•—';
  }
}
loadQuote();

// ====== NASA APOD ======
async function loadApod(){
  const apodDiv=document.getElementById('apod');
  try{
    const res=await fetch('https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY');
    const data=await res.json();
    // æœ‰äº› APOD å¯èƒ½æ˜¯å½±ç‰‡ï¼Œéœ€æª¢æŸ¥ media_type
    if(data.media_type==='image'){
      apodDiv.innerHTML=`<img src="${data.url}" alt="${data.title}" style="max-width:100%;border-radius:12px;box-shadow:0 0 20px #0ff5;"><p>${data.title}</p>`;
    }else{
      apodDiv.innerHTML=`<iframe src="${data.url}" frameborder="0" allowfullscreen style="width:100%;height:400px;border-radius:12px;"></iframe><p>${data.title}</p>`;
    }
  }catch{
    apodDiv.innerText='NASA æ˜Ÿåœ–è¼‰å…¥å¤±æ•—';
  }
}
loadApod();
</script>
</body>
</html>
