<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸª åœ–åƒå¯¦é©—å®¤ | AI Art Diary</title>
<style>
body {
  background: radial-gradient(circle at 50% 30%, #0a0f1f, #000);
  color: #0ff;
  font-family: 'Orbitron', sans-serif;
  text-align: center;
  overflow-x: hidden;
}
h1 {
  font-size: 2.5em;
  text-shadow: 0 0 20px #0ff;
}
#uploadZone {
  margin: 40px auto;
  padding: 40px;
  border: 2px dashed #0ff;
  border-radius: 20px;
  width: 60%;
  background: rgba(0,255,255,0.05);
  transition: .3s;
}
#uploadZone:hover {
  background: rgba(0,255,255,0.15);
  box-shadow: 0 0 20px #0ff;
}
#preview {
  margin-top: 30px;
  border-radius: 16px;
  max-width: 80%;
  box-shadow: 0 0 20px #0ff;
}
button {
  margin-top: 30px;
  padding: 12px 24px;
  border: 1px solid #0ff;
  border-radius: 25px;
  background: transparent;
  color: #0ff;
  font-size: 16px;
  cursor: pointer;
  transition: .3s;
}
button:hover {
  background: #0ff;
  color: #000;
  box-shadow: 0 0 20px #0ff;
}
#output {
  margin-top: 40px;
}
#loading {
  display: none;
  font-size: 1.2em;
  color: #aaf;
  text-shadow: 0 0 10px #0ff;
}
</style>
</head>
<body>
  <h1>ğŸª åœ–åƒå¯¦é©—å®¤</h1>
  <p>ä¸Šå‚³ä¸€å¼µç…§ç‰‡ï¼Œè®“ AI å¹«ä½ é€²è¡Œå…¨æ¯è½‰åŒ– âœ¨</p>

  <div id="uploadZone">
    <input type="file" id="imageInput" accept="image/*">
    <br><br>
    <img id="preview" />
  </div>

  <div>
    <select id="mode">
      <option value="hologram">ğŸŒ å…¨æ¯æŠ•å½±äºº</option>
      <option value="ghost">ğŸ‘» é¬¼å½±ç…§ç‰‡</option>
      <option value="cyberpunk">ğŸ’« è³½åšè½‰åŒ–</option>
    </select>
  </div>

  <button onclick="generate()">é–‹å§‹è½‰åŒ–</button>
  <div id="loading">ğŸ”® AI æ­£åœ¨å•Ÿå‹•ä¸­...</div>
  <div id="output"></div>

<script>
const input = document.getElementById('imageInput');
const preview = document.getElementById('preview');
input.onchange = e => {
  const file = e.target.files[0];
  if (file) {
    preview.src = URL.createObjectURL(file);
  }
};

async function generate() {
  const file = input.files[0];
  if (!file) return alert("è«‹å…ˆä¸Šå‚³åœ–ç‰‡ï¼");
  document.getElementById('loading').style.display = 'block';
  
  // å°‡åœ–ç‰‡è½‰ç‚º base64
  const reader = new FileReader();
  reader.readAsDataURL(file);
  reader.onload = async () => {
    const base64 = reader.result.split(',')[1];
    const mode = document.getElementById('mode').value;
    
    // å‘¼å« Gemini APIï¼ˆç¤ºç¯„çµæ§‹ï¼‰
    const res = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent?key=ä½ çš„API_KEY", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [
          {
            parts: [
              { text: `è«‹å°‡é€™å¼µç…§ç‰‡è½‰åŒ–æˆ${mode}é¢¨æ ¼çš„è—è¡“åœ–åƒï¼Œå‘ˆç¾ç§‘æŠ€èˆ‡éˆç•°çš„èåˆã€‚` },
              { inline_data: { mime_type: "image/jpeg", data: base64 } }
            ]
          }
        ]
      })
    });

    const data = await res.json();
    document.getElementById('loading').style.display = 'none';
    const output = document.getElementById('output');
    if (data.candidates && data.candidates[0]?.content?.parts?.[0]?.text) {
      output.innerHTML = `<p>âœ¨ è½‰åŒ–å®Œæˆï¼</p><p>${data.candidates[0].content.parts[0].text}</p>`;
    } else {
      output.innerHTML = `<p>âš ï¸ ç„¡æ³•ç”Ÿæˆçµæœï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚</p>`;
      console.error(data);
    }
  };
}
</script>
</body>
</html>

