<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>ğŸ‘» éˆç•°é¡¯åƒå„€ v2</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body {
  margin:0;
  background:radial-gradient(circle at 50% 20%, #0a0015 0%, #1b0033 60%, #000 100%);
  font-family:'Noto Sans TC',sans-serif;
  color:#e6d4ff;
  overflow-y:auto; /* âœ… ä¿®æ­£ç„¡æ³•æ»¾å‹•å•é¡Œ */
  min-height:100vh;
}

/* ğŸ‘» å¹½éˆé›¨ï¼ˆé€Ÿåº¦æ›´å¿«ã€å¸¶ç´«å…‰æšˆï¼‰ */
#ghostRain {
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  z-index:0;
  pointer-events:none;
}

/* ğŸŒ«ï¸ éˆæ°£éœ§å…‰æ¼‚æµ®å±¤ */
#fogLayer {
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:radial-gradient(circle at 50% 80%, rgba(180,0,255,0.2) 0%, transparent 60%),
              radial-gradient(circle at 20% 30%, rgba(120,60,255,0.15) 0%, transparent 50%),
              radial-gradient(circle at 80% 40%, rgba(255,0,255,0.2) 0%, transparent 60%);
  animation:fogMove 25s ease-in-out infinite alternate;
  filter:blur(60px);
  z-index:1;
}
@keyframes fogMove {
  0% {transform:translate(0,0) scale(1);}
  100% {transform:translate(-10px,10px) scale(1.2);}
}

/* ğŸ‘ï¸â€ğŸ—¨ï¸ ä¸»è¦å¡ç‰‡é¢¨æ ¼ */
.card {
  background:rgba(255,255,255,0.07);
  border:1px solid rgba(200,140,255,0.4);
  border-radius:16px;
  box-shadow:0 0 25px rgba(170,100,255,0.3);
  backdrop-filter:blur(12px);
  transition:all .3s;
  z-index:5;
}
.card:hover {
  box-shadow:0 0 40px rgba(220,160,255,0.7);
  transform:translateY(-3px);
}

h1 {
  text-align:center;
  font-size:2.5rem;
  margin-top:80px;
  color:#d9b3ff;
  text-shadow:0 0 30px #9b60ff;
  font-weight:900;
}
p.sub {
  text-align:center;
  color:#c6a6ff;
  letter-spacing:1px;
  font-size:1.1rem;
  margin-bottom:40px;
}

/* ğŸ‘» å¹½éˆå‹•ç•«å¼·åŒ– */
.ghost {
  position:absolute;
  font-size:42px;
  opacity:0.8;
  filter:drop-shadow(0 0 8px rgba(180,120,255,0.8));
  animation:float linear infinite;
}
@keyframes float {
  0% {transform:translateY(-10vh) scale(1) rotate(0deg); opacity:0.4;}
  50% {opacity:1;}
  100% {transform:translateY(120vh) scale(1.3) rotate(20deg); opacity:0.3;}
}
</style>
</head>

<body>
<canvas id="ghostRain"></canvas>
<div id="fogLayer"></div>

<h1>ğŸ‘» éˆç•°é¡¯åƒå„€</h1>
<p class="sub">ä¸Šå‚³è‡ªæ‹ï¼Œçœ‹çœ‹ AI æ˜¯å¦èƒ½æ•æ‰åˆ°ã€Œç¥‚ã€çš„æ®˜å½±â€¦â€¦</p>

<div class="container mx-auto max-w-2xl relative z-10 pb-20">
  <!-- ä¸Šå‚³ -->
  <div class="card p-6 mb-6">
    <label class="block text-lg font-semibold text-purple-300 mb-3">ä¸Šå‚³ç…§ç‰‡</label>
    <div id="drop-zone" class="flex justify-center items-center border-2 border-dashed border-purple-400 rounded-lg p-8 cursor-pointer hover:border-purple-500 transition">
      <p class="text-sm text-purple-200">æ‹–æ›³åœ–ç‰‡æˆ–é»æ“Šä¸Šå‚³</p>
      <input id="file-upload" type="file" accept="image/png,image/jpeg" class="hidden" />
    </div>

    <div id="preview-container" class="hidden mt-4 text-center">
      <p class="text-sm text-gray-400 mb-2">é è¦½ï¼š</p>
      <img id="preview-image" src="" class="max-h-64 mx-auto rounded-lg border border-purple-500 shadow-md">
    </div>
  </div>

  <!-- æ¨¡å¼é¸æ“‡ -->
  <div class="card p-6 mb-6 text-center">
    <label class="block text-lg font-semibold text-purple-300 mb-2">æƒ³å¬å–šä»€éº¼æ°£æ°›ï¼Ÿ</label>
    <select id="mode" class="p-3 rounded-md bg-purple-950/40 border border-purple-500/40 text-purple-100 focus:ring-2 focus:ring-purple-500">
      <option value="spirit">ğŸ‘ éˆé«”é¡¯åƒ</option>
      <option value="phantom">ğŸ’€ æƒ¡éˆæ®˜å½±</option>
      <option value="dream">ğŸŒ« å¤¢å¢ƒä¹‹å½±</option>
    </select>
    <button id="generate-button" class="mt-6 px-6 py-3 rounded-lg bg-purple-600 hover:bg-purple-700 text-white font-bold shadow-lg transition">é–‹å§‹é¡¯åƒ</button>
  </div>

  <!-- çµæœ -->
  <div id="result-container" class="hidden space-y-6">
    <div class="card p-4 text-center">
      <h2 class="text-lg font-semibold text-purple-300 mb-2">é¡¯åƒçµæœï¼š</h2>
      <img id="result-image" src="" class="max-h-96 mx-auto rounded-lg border border-purple-500 shadow-lg">
      <p id="result-text" class="mt-4 italic text-purple-200">æ­£åœ¨é¡¯åƒä¸­â€¦</p>
    </div>
  </div>
</div>

<script>
// === ä¸Šå‚³ + é è¦½ ===
const upload = document.getElementById('file-upload');
const dropZone = document.getElementById('drop-zone');
let base64Logo = null;

dropZone.onclick = () => upload.click();
upload.onchange = e => handleFile(e.target.files[0]);
dropZone.ondrop = e => { e.preventDefault(); handleFile(e.dataTransfer.files[0]); };
dropZone.ondragover = e => e.preventDefault();

function handleFile(file){
  if(!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    base64Logo = e.target.result.split(',')[1];
    const previewContainer = document.getElementById('preview-container');
    const previewImage = document.getElementById('preview-image');
    previewImage.src = e.target.result;
    previewContainer.classList.remove('hidden');
  };
  reader.readAsDataURL(file);
}

// === é¡¯åƒ (æ¨¡æ“¬è™•ç†) ===
document.getElementById('generate-button').onclick = async ()=>{
  if(!base64Logo) return alert('è«‹å…ˆä¸Šå‚³ç…§ç‰‡ï¼');
  document.getElementById('result-container').classList.remove('hidden');
  const resultImg = document.getElementById('result-image');
  const text = document.getElementById('result-text');
  text.textContent = "ğŸ‘ é¡¯åƒä¸­â€¦ä¼¼ä¹æœ‰æ±è¥¿åœ¨é è¿‘ã€‚";
  setTimeout(()=>{
    resultImg.src = document.getElementById('preview-image').src;
    text.textContent = "çµæœï¼šéˆé«”æ®˜å½±å·²æ•æ‰æˆåŠŸï¼Œä½†è«‹æ³¨æ„â€”â€”ç¥‚ç¾åœ¨çœ‹è‘—ä½ ã€‚";
  },2500);
};

// === å¹½éˆé›¨ ===
const canvas = document.getElementById('ghostRain');
const ctx = canvas.getContext('2d');
let width, height, ghosts = [];

function resize(){
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

class Ghost {
  constructor(){
    this.x = Math.random()*width;
    this.y = Math.random()*-height;
    this.size = Math.random()*50+25;
    this.speed = Math.random()*1.5+0.6; // ğŸ‘»æ›´å¿«
    this.alpha = Math.random()*0.7+0.4;
    this.emoji = Math.random()<0.5?"ğŸ‘»":"ğŸ’€";
  }
  update(){
    this.y += this.speed;
    if(this.y>height+50){
      this.y=-50;
      this.x=Math.random()*width;
    }
  }
  draw(){
    ctx.globalAlpha=this.alpha;
    ctx.font=`${this.size}px 'Segoe UI Emoji'`;
    ctx.fillText(this.emoji,this.x,this.y);
  }
}
for(let i=0;i<40;i++) ghosts.push(new Ghost());
function animate(){
  ctx.clearRect(0,0,width,height);
  for(const g of ghosts){ g.update(); g.draw(); }
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
